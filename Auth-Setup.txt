1. App.vue:
      //Auth start       
        Auth.currentAuthenticatedUser({ bypassCache: false })
        .then( (user) => {
          console.log("user: ",user)
          if (user && user.attributes.email_verified) {
            localStorage.setItem('loggedIn', JSON.stringify(true));
            localStorage.setItem('user', JSON.stringify(user.attributes.email));
            store.dispatch('general/setLoggedInUser',user.attributes.email)
          } else {
            localStorage.setItem('loggedIn', JSON.stringify(false));
            localStorage.removeItem('user');
            store.dispatch('general/setLoggedInUser','')          }
          // return Auth.changePassword(user, 'oldPassword', 'newPassword');
        })
        .catch( (err) => {
          console.log('currentAuthenticatedUser error: ', err)
          localStorage.setItem('loggedIn', JSON.stringify(false));
          localStorage.removeItem('user');
          store.dispatch('general/setLoggedInUser','')
        });

      Hub.listen('auth', (data) => {
        switch (data.payload.event) {
          case 'signIn':
            console.log(
              'event: user signed in', data );
            localStorage.setItem('loggedIn', JSON.stringify(true));
            localStorage.setItem(
              'user',
              JSON.stringify(data.payload.data.attributes.email)
            );
            store.dispatch('general/setLoggedInUser',data.payload.data.attributes.email)            
            break;
          case 'signUp':
            console.log('event: user signed up', data);
            localStorage.setItem('loggedIn', JSON.stringify(true));
            break;
          case 'signOut':
            console.log(' event: user signed out');
            localStorage.setItem('loggedIn', JSON.stringify(false));
            localStorage.removeItem('user');
            store.dispatch('general/setLoggedInUser','')            
                    
            break;
          case 'signIn_failure':
            console.log('event: user sign in failed');
            localStorage.setItem('loggedIn', JSON.stringify(false));
            localStorage.removeItem('user');
            store.dispatch('general/setLoggedInUser','')              
            break;
          case 'configured':
            console.log('event: the Auth module is configured');
        }
      });

      // Auth ends
      return {};
    },

2. store/general/setLoggedInUser 
3. composition/useAuth.js
4. componennts/Auth/*
5. views/SingIn.vue and SignUp.vue
6. NavigationMenu.vue --> loggedIn logic